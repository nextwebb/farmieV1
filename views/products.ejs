<%- include('includes/header') %>

  <!-- ##### Breadcrumb Area Start ##### -->
  <div class="breadcrumb-area bg-img bg-overlay jarallax" style="background-image: url('img/bg-img/18.jpg');">
    <div class="container h-100">
      <div class="row h-100 align-items-center">
        <div class="col-12">
          <div class="breadcrumb-text">
            <h2>Our Product</h2>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="famie-breadcrumb">
    <div class="container">
      <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
          <li class="breadcrumb-item"><a href="#"><i class="fa fa-home"></i> Home</a></li>
          <li class="breadcrumb-item active" aria-current="page">Our Product</li>
        </ol>
      </nav>
    </div>
  </div>
  <!-- ##### Breadcrumb Area End ##### -->

  <!-- ##### About Us Area Start ##### -->
  <section class="about-us-area" id="productTitleArea">
    <div class="container">
      <div class="row align-items-center">

        <!-- About Us Content -->
        <div class="col-12 col-lg-6">
          <div class="about-us-content mb-100">
            <!-- Section Heading -->
            <div class="section-heading">
              <p>FARM PRODUCE</p>
              <h2><span>The Future</span> Of Agriculture </h2>
              <img src="img/core-img/decor.png" alt="">
            </div>
            <p>{{title}}</p>
          </div>
        </div>

        <!-- Famie Video Play -->
        <div class="col-12 col-lg-6">
          <div class="about-us-thumbnail mb-100">
            <img src="img/bg-img/19.jpg" alt="">
          </div>
        </div>

      </div>
    </div>
  </section>
  <!-- ##### About Us Area End ##### -->

  <!-- ##### Services Area Start ##### -->
  <section class="services-area d-flex flex-wrap">
    <!-- Service Thumbnail -->
    <div class="services-thumbnail bg-img jarallax" style="background-image: url('img/bg-img/7.jpg');"></div>

    <!-- Service Content -->
    <div class="services-content section-padding-100-50 px-5">
      <div class="container-fluid">
        <div class="row">
          <div class="col-12">
            <!-- Section Heading -->
            <div class="section-heading">
              <p>What we do</p>
              <h2><span>Our Organically grown Produce</span> Is Mainstay For Us</h2>
              <img src="img/core-img/decor.png" alt="">
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-12 mb-50">
            <p> We strive to carry organics. We seek to bring you locally grown produce as well. Whenever an organically grown item in unavailable, we will either carry a transitionally grown item or the very best conventionally grown items we can find! As usual, you can count on us to clearly label everything so that you will be completely informed.</p>
          </div>

          <!-- Single Service Area -->
          <div class="col-12 col-lg-6">
            <div class="single-service-area mb-50 wow fadeInUp" data-wow-delay="100ms">
              <!-- Service Title -->
              <div class="service-title mb-3 d-flex align-items-center">
                <img src="img/core-img/s1.png" alt="">
                <h5>Fruits &amp; Vegetables</h5>
              </div>
              <p>Organically grown fresh Vegetables and fruits. Organic foods often have more beneficial nutrients, such as antioxidants, than their conventionally-grown counterparts. </p>
            </div>
          </div>

          <!-- Single Service Area -->
          <div class="col-12 col-lg-6">
            <div class="single-service-area mb-50 wow fadeInUp" data-wow-delay="300ms">
              <!-- Service Title -->
              <div class="service-title mb-3 d-flex align-items-center">
                <img src="img/core-img/s2.png" alt="">
                <h5>Spices, Tea Spices &amp; Herbs</h5>
              </div>
              <p>Our Organic Herbs, Spices and Coffee are grown by thousands of peasant farmers in and around mountains and rainforests of Uganda and THE Congo. </p>
            </div>
          </div>

          <!-- Single Service Area -->
          <div class="col-12 col-lg-6">
            <div class="single-service-area mb-50 wow fadeInUp" data-wow-delay="500ms">
              <!-- Service Title -->
              <div class="service-title mb-3 d-flex align-items-center">
                <img src="img/core-img/s3.png" alt="">
                <h5>Seeds &amp; Seedlings</h5>
              </div>
              <p>Our AHAIFARMS brand vegetable seeds are guaranteed to germinate! If they do not, just contact us and we'll be happy to replace them. </p>
            </div>
          </div>

         
          <div class="col-12 col-lg-6">
            <div class="single-service-area mb-50 wow fadeInUp" data-wow-delay="700ms">
              <!-- Service Title -->
              <div class="service-title mb-3 d-flex align-items-center">
                <img src="img/core-img/s4.png" alt="">
                <h5>Sweet Corn</h5>
              </div>
              <p>As a good source of antioxidant carotenoids, such as lutein and zeaxanthin, yellow corn may promote eye health. It's also a rich source of many vitamins and minerals. </p>
            </div>
          </div>
           <!-- Single Service Area -->
           <div class="col-12 col-lg-6">
            <div class="single-service-area mb-50 wow fadeInUp" data-wow-delay="700ms">
              <!-- Service Title -->
              <div class="service-title mb-3 d-flex align-items-center">
                <img src="img/core-img/s4.png" alt="">
                <h5>Consultancy Services</h5>
              </div>
              <p>AHAIFARMS provides to every client his own personal support team of consultants. Every client and every situation is unique. </p>
            </div>
          </div>

        </div>
      </div>
    </div>
  </section>
  <!-- ##### Services Area End ##### -->

  <!-- ##### Our Products Area Start ##### -->
  <section class="our-products-area section-padding-100">
    <div class="container">
      <div class="row">
        <div class="col-12">
          <!-- Section Heading -->
          <div class="section-heading text-center">
            <p>Featured Products</p>
            <h2><span>Our Product</span> Are Highest Quality</h2>
            <img src="img/core-img/decor2.png" alt="">
          </div>
        </div>
      </div>

     

        <div class="row justify-content-center" id="productsArea">          
                  <!-- Single Product Area -->
                  <div class="col-12 col-sm-6 col-lg-3" v-for="(product, index) in products ">
                    <div class="single-product-area mb-50 wow fadeInUp" data-wow-delay="700ms">
                      <!-- Product Thumbnail -->
                      <div class="product-thumbnail">
                        <img v-bind:src="product.image" v-bind:alt="product.name" class="img-fluid" style="width:270px;height:226px;">
                        <!-- Product Tags -->
                        <span class="product-tags bg-danger">Sale</span>
                        <!-- Product Meta Data -->
                       
                      </div>
                      <!-- Product Description -->
                      <div class="product-desc text-center pt-4">
                        <a href="#" class="product-title">{{product.name}}</a>
                        <h6 class="price"><span>&#8358;{{product.rate}}></span>&#8358; {{product.discount}}</h6>
                        <span > <a href=" https://wa.me/08037122949?text=I'm%20interested%20in%20buying%20some%20products%20" >  <img class="checkout" src="https://img.icons8.com/color/48/000000/buy.png"/>  Order Now </a> </span>
                      </div>
                    </div>
                  </div>
          
                </div>


     
    </div>
  </section>
  <!-- ##### Our Products Area End ##### -->
  <!-- ##### Contact Area Start ##### -->
   <!-- ##### Contact Area Start ##### -->
   <section class="contact-area section-padding-100-0">
    <div class="container">
      <div class="row justify-content-between">

        <!-- Contact Content -->
        <div class="col-12 col-lg-5">
          <div class="contact-content mb-100">
            <!-- Section Heading -->
            <div class="section-heading">
              <p>Contact now</p>
              <h2><span>Get In Touch</span> With Us</h2>
              <img src="img/core-img/decor.png" alt="">
            </div>
            <!-- Contact Form Area -->
            <div class="contact-form-area" >
              <form id="contact-form-area" @submit.prevent="sendMessage">
                <div v-if="feedbackErr" class="alert alert-success alert-dismissible fade show" role="alert">
                  <strong>Email sent!</strong> AHAIFARMS will contact you shortly.
                  <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>

                <div  v-if="feedbackSucc" class="alert alert-danger alert-dismissible fade show" role="alert">
                  <strong>Try Again later!</strong> You should check in on some of those fields below.
                  <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>


                <div class="row">
                  <div class="col-lg-6">
                    <input type="text" class="form-control" name="name" placeholder="Your Name" v-model:value="name" required>
                  </div>
                  <div class="col-lg-6">
                    <input type="email" class="form-control" name="email" placeholder="Your Email" v-model:value="email" required>
                  </div>
                  <div class="col-12">
                    <input type="number" class="form-control" name="phone" placeholder="Your Phone Number" v-model:value="phone" required>
                  </div>
                  <div class="col-12">
                    <input type="text" class="form-control" name="subject" placeholder="Your Subject" v-model:value="subject" required>
                  </div>
                  <div class="col-12">
                    <textarea name="message" class="form-control" cols="30" rows="10" placeholder="Your Message"  v-model:value="message" required></textarea>
                  </div>
                  <div class="col-12">
                    <button type="submit" class="btn famie-btn">Send Message</button>
                  </div>
                </div>
              </form>
            </div>
          </div>
        </div>

        <!-- Contact Maps -->
        <div class="col-lg-6">
          <div class="contact-maps mb-100">
            <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3963.117866641272!2d3.332553214285485!3d6.632280495204123!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x103b915e390ea701%3A0x39401893e59a8e6c!2sLSDPC%20Medium%20Housing%20Estate%2C%20Phase%203%2C%20Ogba.!5e0!3m2!1sen!2sng!4v1571405891414!5m2!1sen!2sng" width="600" height="450" frameborder="0" style="border:0;" allowfullscreen=""></iframe>
          </div>
        </div>
      </div>
    </div>
  </section>
  <!-- ##### Contact Area End ##### -->
  <%- include('includes/footer') %>

  <script>
    new Vue({
    el: '#productsArea',
    data: {
        products:[],
        siteData: null
    },
    created () {
      fetch('api/v1/products/viewAllProducts')
      .then((resp) => resp.json()) 
      .then(doc => {
        this.products = doc
        console.log(doc)
               
      })
      
      fetch('api/v1/site-profile/viewAllSitedata')
      .then((resp) => resp.json()) 
      .then(data => {
        data.forEach(doc => {
            this.siteData = doc;
        });
      })
  }
})

new Vue({
  el: '#productTitleArea',
    data: {
          title:null,
    },
    created () {
      fetch('api/v1/site-profile/viewAllSitedata')
      .then((resp) => resp.json()) 
      .then(data => {
        data.forEach(doc => {
            this.title = doc.smalltext;
          
        });
      })
    }
})

new Vue({
  el: '#contact-form-area',
    data: {
          name:null,
          email:null,
          phone: null,
          subject: null,
          message:null,
          feedbackSucc: null,
          feedbackErr: null
    },
    methods: {
     async sendMessage() {
      const messageToSend = {
        name : this.name,
        email: this.email,
        phone: this.phone,
        subject: this.subject,
        message: this.message
      }

      await fetch('api/v1/site-profile/sendmessage', 
      {
          method: 'POST',
          headers: {
            'Accept': 'application/json',
            'Content-Type': 'application/json' 
          },
          credentials: 'include',
          body: JSON.stringify(messageToSend)
      }).then(() => {
        this.feedbackSucc = true
        this.feedbackSucc = true
        this.name=null,
        this.email=null,
        this.phone= null,
        this.subject= null,
        this.message=null
      }).catch((err)=>{
        this.feedbackErr = true
      })
      

     }
    }
})

  </script>